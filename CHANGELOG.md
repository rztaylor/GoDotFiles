# Changelog

All notable changes to GDF will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added
- **Managed Shell Init Snippets**: Add `shell.init` support in app bundles so PATH/setup commands are generated into `~/.gdf/generated/init.sh` during `gdf apply`.

### Changed
- **Shell Integration Generation**: Generated init script now includes app startup tasks alongside aliases, env vars, functions, and completions.
- **Base Library Recipes**: Add managed startup snippets for `direnv`, `starship`, `zoxide`, and `fzf` so their shell initialization is generated by GDF.

### Fixed

## [0.7.0] - 2026-02-14

### Added

- **App Library**: Expanded core library with 30+ new app recipes (Languages, DevOps, Utilities) including "Base Profile" tools like git, zsh, starship.
- **Library CLI**: New `gdf library list` and `describe` commands to explore embedded recipes.
- **Interactive Add**: `gdf add` now prompts to use recipes if available, or to confirm skeleton creation for new apps.
- **No-Override Safety**: `gdf add` explicitly warns and preserves existing app configurations instead of overriding them.
- **Meta-Profiles**: Support for grouping tools via meta-apps (e.g., `backend-dev`).
- **Recursive Dependencies**: `gdf apply` now recursively installs dependencies for apps in profiles.
- **Self-Update**: Implemented `gdf update` command and periodic auto-update checks.
- **Install Script**: Added `scripts/install.sh` for easy installation.

### Changed

### Fixed

## [0.6.0] - 2026-02-14


### Added

- **Schema Versioning**: Enforced `kind` field (e.g., `App/v1`) in all YAML files to support future schema evolution.
- **Restore Command**: Added `gdf restore` to revert changes, restore files, and export aliases for safe uninstallation.
- **Version Command**: Added `gdf version` to output build information.
- **License**: Switched to Apache 2.0 License.
- **Docs**: Cleaned up broken links in documentation.
- **Safety**: Enforce initialization check for all commands (except `version`, `init`, and `help`) to ensure GDF is run within a valid repository.
- **Release Automation**: Added `make release` command and GitHub Action configuration to automate releases via GoReleaser.
- **Documentation**: Added `CONTRIBUTING.md` and `docs/development/release.md` to guide contributors and maintainers.


## [0.5.0] - 2026-02-13

### Added

- **Core Features**
  - `gdf init` to initialize or clone dotfiles repositories (supports existing repos).
  - `gdf add <app>` to add app bundles to profiles.
  - `gdf track <path>` to adopt existing dotfiles into the repo.
  - `gdf apply` to link dotfiles and install packages from profiles.
  - `gdf list`, `gdf remove`, and `gdf show` for managing apps and profiles.
  - **Auto-detection** of app names when tracking files (e.g. `.gitconfig` -> `git`).

- **Profile Management**
  - **Profiles**: Support for multiple profiles (e.g., `default`, `work`, `home`).
  - **Conditions**: Conditional profile inclusion based on OS, Distro, Hostname, and Arch.
  - **Smart Defaults**: Commands default to `default` profile if not specified.
  - **Dependencies**: Profiles can include other profiles.

- **Shell & Terminal**
  - **Aliases**: `gdf alias` management with global and profile-specific aliases.
  - **Shell Integration**: Auto-generating shell configuration for bash and zsh.
  - **Global Aliases**: Support for aliases not tied to specific apps (e.g. `ls`, `cd`).

- **Package Management**
  - **Multi-Platform**: Support for Homebrew/Linuxbrew, APT, and DNF.
  - **Custom Scripts**: Execute custom install/uninstall scripts with security prompts.

- **Git & State**
  - **Git Operations**: `gdf save`, `gdf push`, `gdf pull`, `gdf sync` for easy repo management.
  - **Status**: `gdf status` to see what is applied and when.

- **Safety & Security**
  - **Secret Tracking**: `gdf track --secret` to safely add sensitive files to `.gitignore`.
  - **Backups**: Automatic backups of existing files during `apply`.
  - **Conflict Resolution**: Strategies for handling file conflicts (`backup_and_replace`, `error`).

### Fixed

- **Cross-Platform**: Improved package resolution logic for Linux vs macOS.


---

## Release Guidelines

### Version Numbering

- **MAJOR** (1.0.0): Breaking changes to CLI or config format
- **MINOR** (0.1.0): New features, backward compatible
- **PATCH** (0.1.1): Bug fixes, no new features

### Changelog Categories

- **Added**: New features
- **Changed**: Changes in existing functionality
- **Deprecated**: Soon-to-be removed features
- **Removed**: Removed features
- **Fixed**: Bug fixes
- **Security**: Vulnerability fixes

### For AI Agents

When completing a task:
1. Only include user-facing changes rather than internal changes.
2. Add entry under `[Unreleased]` in appropriate category
3. Use imperative mood ("Add" not "Added")
4. Reference issue/PR numbers if applicable
5. Keep entries concise but descriptive
